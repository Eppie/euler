#include <cstdint>
#include <cstdlib>

namespace AE32_1536_detail {
static const uint32_t arr[1536] = {
    87,    23,     13,     11,      20,     19,        231483, 9087311, 341,     17,      106,    34,     23,
    26,    19,     12,     73,      950,    58,        539,    148,     2895,    163,     31,     235,    164,
    10,    7,      43,     31,      207,    15,        31,     131,     82,      316,     215534, 21,     175,
    56,    63,     33,     106,     1045,   2806,      11,     79,      11,      142,     97433,  134,    319,
    17,    21,     31,     195,     46686,  39,        332369, 127,     17,      407,     138,    22,     93,
    117,   247,    120,    2932,    31833,  57,        18,     5,       149,     43,      118,    44,     18,
    15,    104,    41,     155,     5764,   26,        22,     34,      21,      79,      11,     8032,   51,
    18,    6,      7,      2390,    117,    26,        513,    16785,   406,     42,      28,     177031, 11,
    23,    65,     101,    1212,    545,    29,        87,     230,     174,     19,      179,    58,     814,
    35,    166,    71,     120,     56,     23,        573,    21,      11,      30,      19,     4102,   7,
    10,    11521,  29,     31,      29,     174,       67,     31324,   13,      13,      280,    82,     86,
    1025,  26,     134,    157,     35,     261,       17,     410,     109,     59,      61,     21,     3,
    152,   41,     17,     73,      20,     106,       88,     1030,    22,      609,     274,    1586,   12,
    527,   37,     7,      214,     47,     52,        214,    5,       62,      195,     11,     87,     66,
    1113,  61,     581,    22,      23,     1272,      8651,   466,     34,      271,     410,    65,     104,
    67027, 28,     8076,   17,      777,    61,        35,     122,     47,      29,      30,     19,     69,
    104,   132,    4588,   14,      86,     123,       11,     139,     179,     40,      97,     68,     2014,
    127,   35,     5,      1006039, 31,     291,       50318,  559,     17,      113,     10,     15,     197,
    152,   2,      68,     75,      296,    28,        48,     90,      15,      91,      10,     15,     87,
    69,    62,     39,     802,     15656,  89,        5035,   73,      5886,    34,      46,     1333,   188,
    68,    88,     33,     53418,   12,     67,        13823,  13,      111,     6649,    145,    23,     87,
    11687, 16247,  37,     19,      140,    287,       2,      240,     194,     73,      12704,  387,    33,
    34,    41,     33123,  114,     34323,  119226,    30,     7,       112,     219,     28055,  2,      63,
    7,     251,    19,     34,      244,    61,        703,    73,      1168,    210,     5,      639,    35,
    37,    2,      67,     39,      77182,  7,         13,     5166,    146,     58,      35,     47,     155,
    53,    39,     26,     55,      20,     43,        43,     146,     349,     34,      30,     25324,  254,
    17,    107,    61,     67,      55,     493,       492,    68,      2,       51,      42,     314,    26,
    28,    15,     62,     332,     101,    35,        26,     117,     14,      22,      66,     276,    850,
    62,    24,     115,    277,     1708,   129,       30,     13,      80,      1333,    42,     62,     89,
    2,     4926,   86,     70,      69,     5254501,   13,     40723,   77,      123,     221,    93,     16564,
    33,    45,     99,     2,       388,    485,       146,    10,      14,      204,     6213,   40,     99,
    14,    317,    281,    17,      51,     1884,      21,     70,      244,     126,     69,     163,    45,
    295,   155,    149,    5,       19199,  78,        376,    185,     14,      1295,    1519,   82,     34,
    218,   139,    186,    26,      101,    60,        61,     199,     59,      19454,   120,    61,     4291,
    187,   210,    484793, 44864,   167,    661,       41,     1265,    59,      23,      213,    434,    26,
    91,    18,     78,     26,      84,     1139,      215,    22,      155,     180,     278,    7,      12,
    21,    68,     40,     39,      860,    88,        74,     31,      191,     29,      3,      3,      291,
    122,   6,      10,     10,      107,    106,       3,      37,      2301,    45,      22,     57,     103,
    14,    59,     7,      122,     12,     6,         15,     266,     85,      13,      38619,  88,     29,
    59,    52,     119,    5,       645,    6,         145,    131,     67,      50183,   35,     40,     62,
    5,     72,     10696,  112,     329,    43,        18,     122271,  70,      7739,    214398, 11,     267,
    21392, 62,     293,    77,      30659,  10,        278,    14,      854,     22,      47,     589,    287,
    33,    97,     711,    7,       793,    35,        120,    17,      26,      74,      2,      61,     6191,
    463,   19,     57,     53,      12833,  22,        7,      266,     87,      42,      43,     1325,   11,
    298,   73,     116,    1397,    66,     19,        19,     56,      163,     17,      6110,   372,    11,
    12871, 340,    46,     130,     11,     57,        39,     3635,    744,     59,      62,     372,    13,
    130,   86,     22237,  74,      47,     31,        34,     2697,    1240,    47,      31,     48,     219,
    260,   29,     79,     17177,   105,    6,         41,     426,     163,     1137,    804,    22,     88,
    40,    17935,  211,    80,      10,     103,       4632,   165,     86,      160,     78,     28,     43,
    29,    139,    69,     62,      62,     110,       43,     15,      43,      31,      756,    7579,   85,
    10,    73,     35,     5436,    59,     22,        175,    1491,    26,      47,      26028,  39,     73,
    31,    2479,   148,    11894,   17,     12806,     39,     11,      22,      46973,   294,    73,     51,
    244,   34,     942,    2900,    58,     12532,     6,      91,      65,      31,      11,     58,     12139,
    72,    806,    3013,   19,      62,     327,       4796,   4223,    10,      38,      152,    203,    39,
    302,   176171, 15,     3550,    96,     4257,      141,    67,      19330,   87,      43,     111,    94,
    69,    40,     91574,  103,     5548,   17,        218,    112,     131,     31,      20,     104220, 508,
    26,    94,     15,     41,      23,     851,       79,     51,      7,       31,      2,      697,    21,
    251,   1708,   61,     5258,    22,     10,        6154,   39,      34,      793,     126,    115,    204,
    166,   388,    5,      10442,   40,     1660,      10,     19,      153,     92,      229,    226,    2951,
    11687, 182,    2,      53,      175807, 993,       26,     13,      6,       137,     17,     111,    52,
    7,     50,     38372,  35,      10,     7,         3,      1720,    22,      33,      134,    3,      7874,
    126,   4112,   4108,   97,      20,     111,       21,     3686,    22,      21,      6,      511,    6516,
    1554,  21,     15,     17451,   34,     99,        45,     24,      26,      2438,    56,     10,     136,
    5,     95,     46,     76,      74,     111,       23,     399,     57,      94,      102,    3937,   143,
    167,   2282,   31,     111,     253,    51,        37,     45,      15,      1055425, 286,    31,     66,
    46,    68,     7711,   31,      26,     47,        24,     6,       475,     11,      7,      15,     3976,
    6463,  19,     14,     62,      94,     10,        60,     96,      98,      2051,    89,     143,    70847,
    37,    278,    329,    17,      862,    376,       388,    15,      645,     492866,  22,     140,    10,
    199,   21,     20,     9915,    610,    20,        2,      82,      202,     219,     170,    50,     21,
    109,   41,     67,     31,      21,     13,        194,    14,      335,     3859684, 84,     14673,  72,
    13,    1204,   19,     26,      58,     14,        1136,   15,      382,     2193,    7,      2356,   737,
    60,    70,     82,     20,      5,      833,       1899,   377,     73,      101,     55071,  181,    327,
    73,    523,    15,     1708,    7,      34,        6855,   4978,    35,      77,      379,    7,      26,
    104,   2,      74146,  17,      46,     51,        73,     34,      13,      183,     188,    28,     21,
    23,    66,     23,     118,     1804,   18,        168,    16814,   407,     126,     14,     4075,   47,
    37,    367,    150,    10,      181,    5002,      34,     24,      87,      148161,  73,     2,      28,
    33,    398,    1484,   51,      129,    45,        136,    85,      29,      113,     172,    59,     10,
    12,    2573,   11,     35,      5,      33,        521,    261,     153,     13,      101,    24,     70,
    3966,  38,     292,    7016,    61,     23,        3020,   409,     8420,    7104,    68,     21,     146,
    73,    58,     7,      5,       28,     90,        28,     82,      12,      151,     165,    40,     39,
    5,     409,    19,     76,      41,     101,       12780,  29,      86924,   29627,   35,     496,    77,
    10,    7,      7,      126,     3,      10,        24,     5,       5,       229,     17,     899,    83,
    45,    17,     134,    2,       1457,   3637,      1686,   56,      35,      29,      2,      4181,   138,
    12,    103,    45,     11,      15,     30,        4346,   68,      6,       31,      219,    541375, 66,
    30,    28797,  5,      667,     20195,  141949,    47,     351,     331,     1685,    31,     78,     30,
    10,    66,     17,     31,      424,    592,       74,     71,      181,     3354,    311,    62,     131,
    43,    74,     327084, 43,      954,    189,       58,     651,     3,       37,      15,     28,     328,
    74,    11,     82,     61,      6,      84,        88,     37,      87,      7,       83,     137,    407,
    369,   11,     107,    10,      5365,   55,        65,     78,      26229,   24,      68,     149,    86,
    25543, 44,     533,    3641,    29,     2479,      7,      55,      10,      42,      7,      1958,   123,
    9398,  568,    162,    54,      6,      165530102, 31,     145,     210,     635,     1395,   2696,   153773,
    56,    9751,   29,     86,      88,     1798,      12,     89,      291,     93,      30,     135,    107,
    4055,  28,     9808,   23,      12816,  61,        37,     40,      15,      54,      7570,   127,    799,
    13,    82,     138,    63,      71,     87,        22,     31,      37,      110,     34,     22,     39,
    2997,  6,      69,     868,     1271,   2537,      155,    7,       116,     56,      19,     208,    157,
    453,   115,    13,     15,      80,     18,        17,     15,      17,      21501,   37,     151,    2519,
    233,   212,    87,     6,       6,      339,       38,     185,     29,      10,      62,     115196, 5640,
    40,    819,    33,     89,      38,     11,        3032,   13,      34,      49241,   14289,  113,    231,
    18,    50007,  14,     43,      2556,   14,        97,     15,      31,      66,      17,     88,     26536,
    159,   26,     321,    20,      15,     4089,      3,      52,      548,     29,      124,    92,     127,
    2,     327,    90,     477,     279,    4031,      2424,   583,     85,      14,      21,     38,     429,
    86,    77,     15,     186776,  8046,   181,       11,     44,      2098675, 122,     83,     75,     186,
    15,    3204,   12,     1769,    51,     55,        3609,   533,     783,     443,     23804,  6,      26,
    345,   5,      1189,   52,      423,    19,        319,    365,     28,      11,      92,     14,     124,
    44,    53,     246,    2,       582,    41393,     11,     5,       3836,    14701,   5988,   19,     5,
    65,    31,     20,     15,      334,    12,        26,     7,       16559,   143,     1719,   15,     1713,
    23,    802,    56,     3875,    67053,  29,        3,      31,      262,     174,     84,     3164,   11,
    7,     141,    48,     7,       1446,   20,        91,     82,      13,      124,     415,    185,    23,
    172,   1376,   2468,   113,     5258,   15,        21,     41,      347,     126,     472,    17,     19,
    195,   280,    244,    639,     1679,   3,         202,    53,      2,       60,      19,     10,     272,
    40,    14,     40,     10,      261,    17037,     55,     66,      168,     1565,    13,     7,      82,
    2826,  71,     344,    94,      333,    74,        91,     14170,   48,      916,     39,     59,     13,
    97,    129,    3,      43,      11,     197,       246,    83,      10,      15811,   56,     6,      126,
    12,    97,     15,     9652,    43,     13,        24,     26,      58,      113,     61,     15988,  139,
    31,    12,     130,    3515,    22,     3377,      136,    76,      1861,    78366,   4323,   10,     24,
    208,   37077,  96,     207,     28,     5392,      123,    10,      11,      435,     5,      124931, 126,
    55,    20,     9738,   57,      2696,   108,       1333,   11977,   99,      157,     91,     53,     6,
    443,   5,      30,     703,     231,    19,        1143,   61,      39,      59,      358,    22,     20,
    23,    496};

uint16_t hash( uint32_t n ) {
  long long t = n;
  t = ( ( t >> 16 ) ^ t ) * 0xda2e4f1;
  return t % 1536;
}

static inline uint64_t powmod( uint64_t a, uint64_t k, uint64_t n ) {
  uint64_t t = 1;
  if( a >= n ) {
    a %= n;
  }
  while( k != 0 ) {
    if( ( k & 1ULL ) != 0 ) {
      t = ( t * a ) % n;
    }
    k >>= 1ULL;
    if( k != 0 ) {
      a = ( a * a ) % n;
    }
  }
  return t;
}

bool prp( uint64_t const n, uint64_t a ) {
  if( a >= n ) {
    a %= n;
    if( a <= 1 ) {
      return ( a == 1 );
    }
    if( a == n - 1 ) {
      return !( a & 1ULL );
    }
  }

  return powmod( a, n - 1, n ) == 1; /* a^(n-1) = 1 mod n */
}

} // namespace AE32_1536_detail

bool AE32_1536( uint32_t n ) {
  if( n < 11 ) {
    return ( n == 2 || n == 3 || n == 5 || n == 7 ) ? true : false;
  }
  if( !( n % 2 ) || !( n % 3 ) || !( n % 5 ) || !( n % 7 ) ) {
    return false;
  }
  if( n < 121 ) {
    return true;
  }
  if( !( n % 11 ) || !( n % 13 ) || !( n % 17 ) || !( n % 19 ) || !( n % 23 ) ) {
    return false;
  }
  if( n < 841 ) {
    return true;
  }
  uint16_t h = AE32_1536_detail::hash( n );
  uint32_t base = AE32_1536_detail::arr[h];
  return AE32_1536_detail::prp( n, base );
}
/*
#include <cstdio>

int main(){
        uint32_t result = 0;
  for( uint32_t i = 0; i < 10000000; ++i){
          if( AE32_1536( i ) ) {
                  ++ result;
  }
  }
  printf("%d\n", result);
}
*/
